;(function($) {

	jFrame.registry.set('lang', {"ModuleNamePlural":"Feedback Forms","ModuleNameSingular":"Feedback Form","ModuleDescription":"Collect, view and export feedback from visitors, leads and customers.","ControlPanelTab":"Feedback Forms","ControlPanelTabTip":"Collect, view and export feedback from visitors, leads and customers.","module_formInfotip":"Feedback Forms","breadcrumb":"Feedback Forms","breadcrumb_indexAction":"View Feedback Forms","breadcrumb_createFormAction":"Create a Feedback Form","breadcrumb_editFormAction":"Edit a Feedback Form","breadcrumb_viewResponseAction":"View Response","breadcrumb_editResponseAction":"Edit Response","breadcrumb_viewResponsesAction":"View Responses","breadcrumb_exportResponsesAction":"Export Responses","menuTitleCreateForm":"Create a Feedback Form","menuTitleViewForms":"View Feedback Forms","menuTitleViewResponses":"View Responses","menuTitleExportResponses":"Export Responses","menuDetailCreateForm":"Build a custom feedback form to accept feedback on your web site.","menuDetailViewForms":"Manage existing feedback forms which you've already created.","menuDetailViewResponses":"See feedback that was submitted through your feedback forms.","menuDetailExportResponses":"Download responses to a CSV file for further analysis in Microsoft Excel.","pleaseSelectAnOption":" -- Please select an option -- ","exportNoResponses":"No responses have been collected for this survey yet.","tinymceIModalTitle":"Insert a Feedback Form","tinymceIModalCancel":"Cancel","tinymceIModalInsert":"Insert","tinymceCreateNewForm":"You haven't created any feedback forms yet. When you do they will appear here.","responseSingular":"response","responsePlural":"responses","viewResponsesTitle":"View Responses","viewResponsesDescription":"To view responses for a particular feedback form you've created, just choose it from the list below.","viewResponsesNoResponsesMessage":"There aren't any responses yet.","viewResponsesButtonNext":"Next &raquo;","viewResponsesButtonCancel":"Cancel","viewResponsesLinkView":"View","viewResponsesLinkDelete":"Delete","viewResponsesConfirmCancel":"Are you sure you wish to cancel? Click OK to confirm.","viewResponsesSelectResponsesToDelete":"Please select which responses you would like to delete.","viewResponsesSelectForm":"Select a Feedback Form","viewResponsesFeedbackForm":"Feedback Form:","viewResponsesNoForms":"You haven't created any feedback forms yet. Would you like to <a href='index.php?section=module&action=custom&module=form&moduleController=admin&moduleAction=edit.form'>create one now<\/a>?","viewResponseTitle":"Viewing Response %s of %s for &quot;%s&quot;","viewResponseTitleNoResponses":"Viewing Responses for &quot;%s&quot;","viewResponseDescription":"Use the buttons below to navigate between responses for the selected feedback form. To edit a response, click &quot;Edit Response&quot;.","viewResponseNoResponses":"The form '%s' has no responses yet. <a href='index.php?section=module&action=custom&module=form&moduleAction=view.responses'>Go Back<\/a>.","viewResponseConfirmCancel":"Are you sure you want to exit? Click OK to confirm.","viewResponseConfirmDelete":"Are you sure you want to delete this response? Click OK to confirm.","viewResponseButtonEdit":"Edit Response...","viewResponseButtonCancel":"Cancel","viewResponseButtonDelete":"Delete","viewResponseButtonPrevious":"&laquo; Previous","viewResponseButtonNext":"Next &raquo;","viewResponseResponseNumber":"Response #%d","viewResponseNotProvided":"(No Response was provided)","viewResponseSelectForm":"Please choose a survey first.","editResponseTitle":"Editing Response %s of %s for &quot;%s&quot;","editResponseDescription":"Use the buttons below to navigate between responses for the selected feedback form. To switch back to viewing the response, click &quot;Cancel&quot;.","editResponseNoResponses":"The form '%s' has no responses yet. <a href='index.php?section=module&action=custom&module=form&moduleAction=view.responses'>Go Back<\/a>.","editResponseConfirmCancel":"Are you sure you want to exit? Click OK to confirm.","editResponseConfirmDelete":"Are you sure you want to delete this response? Click OK to confirm.","editResponseButtonSaveAndView":"Save &amp; View","editResponseButtonSaveAndViewNext":"Save &amp; View Next &raquo;","editResponseButtonSaveAndKeepEditing":"Save &amp; Keep Editing","editResponseButtonCancel":"Cancel","editResponseButtonDelete":"Delete","editResponseButtonPrevious":"&laquo; Previous","editResponseButtonNext":"Next &raquo;","editResponseOtherText":"Other:","editResponseResponseNumber":"Response #%d","saveResponseMessageSuccess":"Your changes to this response have been saved.","saveResponseMessageError":"It looks like one or more fields aren't filled in or contain bad data. Please correct the errors in red below and try again.","deleteResponseMessageSuccess":"Response #%d has been deleted for the form '%s'.","deleteResponseMessageError":"The selected response was unable to be deleted.","exportResponsesTitle":"Export Responses","exportResponsesDescription":"To download responses to a CSV file for futher analysis, start by choosing a feedback form below.","exportResponsesSelectForm":"Select a Feedback Form","exportResponsesFeedbackForm":"Feedback Form:","exportResponsesNoForms":"You haven't created any feedback forms yet. Would you like to <a href='index.php?section=module&action=custom&module=form&moduleController=admin&moduleAction=edit.form'>create one now<\/a>?","exportResponsesDownload":"Download Responses","exportResponsesCancel":"Cancel","exportResponsesConfirmCancel":"Are you sure you wish to cancel? Click OK to confirm.","exportResponseSelectForm":"Please select a form to to export its responses.","viewFormsTitle":"View Feedback Forms","viewFormsDescription":"Feedback forms allow you to collect and view feedback from visitors on your website. Click 'Create a Feedback Form...' to create one now.","viewFormsNoFormsMessage":"You haven't created any forms yet. Click the 'Create a Feedback Form...' button below to create one.","viewFormsButtonCreateForm":"Create a Feedback Form...","viewFormsButtonDeleteForms":"Delete Selected","viewFormsThName":"Form Name","viewFormsThCreated":"Date Created","viewFormsThUpdated":"Date Updated","viewFormsThResponseCount":"Responses","viewFormsThActions":"Actions","viewFormsLinkViewResponses":"View Responses","viewFormsLinkResponseSnapshot":"Response Snapshot","viewFormsLinkExportResponses":"Export Responses","viewFormsLinkEdit":"Edit","viewFormsLinkDelete":"Delete","viewFormsTdNoDateUpdated":"N\/A","deleteFormMessageSuccess":"The selected form has been deleted successfully.","deleteFormMessageError":"The selected form was unable to be deleted.","saveFormMessageSuccess":"Your form was saved successfully. You can add it to your website.","saveFormMessageError":"Your form was unable to be saved.","editFormTitle":"Edit a Feedback Form","editFormDescription":"Drag fields below to build your feedback form. Responses are saved for viewing\/filtering from your control panel and can be emailed to you.","editFormButtonSaveAndContinue":"Save &amp; Continue Editing","editFormButtonSaveAndExit":"Save &amp; Exit","editFormButtonExit":"Cancel","editFormButtonDelete":"Delete","editFormConfirmExit":"Are you sure you want to exit?\r\n\r\nClick OK to confirm. Any unsaved changes you have made will be lost.","tabFormFields":"Form Fields","tabFormOptions":"Form Options","formMenuCheckbox":"List of Checkboxes","formMenuFile":"File Upload Box","formMenuRadio":"List of Radio Buttons","formMenuSectionBreak":"Section Break","formMenuSelectCountries":"Drop Down List of Countries","formMenuSelect":"Drop Down List","formMenuText":"Single Line of Text","formMenuTextarea":"Paragraph of Text","canvasEmptyText":"(Drag a field from the left and drop it here)","formDefaultName":"Untitled Feedback Form","formDefaultDescription":"Type some introductory or instructional text here","formTooltipTitleEmailFeedback":"Feedback Form Email","formTooltipDescriptionEmailFeedback":"If checked, you can then specify an email address that the form will get emailed to.","formTooltipTitleShowMessage":"Show a message on completion","formTooltipDescriptionShowMessage":"If selected, the following message will be shown just <em>above<\/em> the form after it is submitted.","formTooltipTitleShowUri":"Redirect to a page","formTooltipDescriptionShowUri":"If selected, the user will be directed to the following page upon form submission. You must specify the message that is displayed to the user.","formEmailFeedbackTitle":"Please enter a valid email address","formEmailFeedbackLabel":"Email form feedback?","formShowMessageLabel":"Show this message:","formShowMessageDefaultMessage":"Thank you for completing our feedback form. If required, we will be in touch shortly.","formShowPageLabel":"Take them to this page:","formShowPageAlt":"Redirect to a URI","formErrorMessageLabel":"Error Message","formErrorMessageDefaultMessage":"We're sorry, but the data you entered contains errors. They are shown below.","formTooltipTitleErrorMessage":"Error Message","formTooltipDescriptionErrorMessage":"This is a general message that will be displayed to the user if any errors occurred when they submitted the form.","formSubmitButtonTextDefaultValue":"Submit Form","formSubmitButtonTextLabel":"Submit Button Text","formTooltipTitleSubmitButtonText":"Submit Button Text","formTooltipDescriptionSubmitButtonText":"This is the text that the form's submit button will have.","formConfirmDeleteSingle":"Are you sure you want to delete this form?","formConfirmDeleteMultiple":"Are you sure you want to delete these forms?","formSelectFormsToDelete":"Please choose at least one feedback form to delete first.","formWidgetToggleTitle":"Click here to toggle the visibility of this field","formWidgetDuplicateTitle":"Click here to copy this field after itself","formWidgetRemoveTitle":"Click here to remove this field","formWidgetTextOr":"or","formWidgetTextOther":"Other:","formWidgetTextAddOther":"add &quot;Other&quot;","formWidgetTextToggle":"Minimize\/Maximize","formWidgetTextDuplicate":"Duplicate","formWidgetTextRemove":"Remove","formWidgetValueOther":"Response will be typed here","formWidgetValueField":"Option #","formWidgetCheckboxDefaultName":"Untitled List of Checkboxes","formWidgetCheckboxDefaultDescription":"Click here to enter some optional help text","formWidgetCheckboxOptionRequiresAnAnswer":"Requires an answer?","formWidgetCheckboxOptionRandomize":"Randomize?","formWidgetCheckboxOptionVisibleToEveryone":"Visible to everyone","formWidgetCheckboxOptionVisibleToAdministrators":"Visible only to administrators","formWidgetCheckboxTooltipTitleRandom":"Randomize","formWidgetCheckboxTooltipDescriptionRandom":"<p>Choosing this option will randomize the order of the checkboxes when displayed to the user.<\/p>","formWidgetCheckboxTooltipTitleVisibility":"Visibility","formWidgetCheckboxTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","formWidgetFileDefaultName":"Untitled File Upload Field","formWidgetFileDefaultDescription":"Click here to enter some optional help text","formWidgetFileOptionRequiresAnAnswer":"Requires an answer?","formWidgetFileOptionVisibleToEveryone":"Visible to everyone","formWidgetFileOptionVisibleToAdministrators":"Visible only to administrators","formWidgetFileOptionAllowAllFileTypes":"Allow all file types?","formWidgetFileValueFile":"File will be uploaded here","formWidgetFileValueAllowedFileTypes":"doc, xls, pdf, gif, jpg","formWidgetFileTextBrowse":"Browse...","formWidgetFileTooltipTitleVisibility":"Visibility","formWidgetFileTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","formWidgetFileTooltipTitleAllowedFileTypes":"Allowed File Types","formWidgetFileTooltipDescriptionAllowedFileTypes":"<p>Only the file types entered here are allowed to be uploaded\/sent.<\/p><p>File types are file extensions separated by a comma (i.e. pdf, txt, doc, docx).<\/p>","formWidgetRadioDefaultName":"Untitled List of Radio Buttons","formWidgetRadioDefaultDescription":"Click here to enter some optional help text","formWidgetRadioOptionRequiresAnAnswer":"Requires an answer?","formWidgetRadioOptionRandomize":"Randomize?","formWidgetRadioOptionVisibleToEveryone":"Visible to everyone","formWidgetRadioOptionVisibleToAdministrators":"Visible only to administrators","formWidgetRadioTooltipTitleRandom":"Random Radio Button Order","formWidgetRadioTooltipDescriptionRandom":"<p>Choosing this option will randomize the order of the radio buttons when displayed to the user.<\/p>","formWidgetRadioTooltipTitleVisibility":"Visibility","formWidgetRadioTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","formWidgetSectionBreakDefaultName":"Untitled Section Break","formWidgetSectionBreakDefaultDescription":"Click here to enter some optional help text","formWidgetSelectDefaultName":"Untitled Dropdown","formWidgetSelectDefaultDescription":"Click here to enter some optional help text","formWidgetSelectOptionRequiresAnAnswer":"Requires an answer?","formWidgetSelectOptionRandomize":"Randomize?","formWidgetSelectOptionVisibleToEveryone":"Visible to everyone","formWidgetSelectOptionVisibleToAdministrators":"Visible only to administrators","formWidgetSelectTooltipTitleRandom":"Randomize","formWidgetSelectTooltipDescriptionRandom":"<p>Choosing this option will randomize the order of the options in the dropdown list when displayed to the user.<\/p>","formWidgetSelectTooltipTitleVisibility":"Visibility","formWidgetSelectTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","formWidgetTextDefaultName":"Untitled Line of Text","formWidgetTextDefaultDescription":"Click here to enter some optional help text","formWidgetTextValueText":"Response will be typed here","formWidgetTextOptionRequiresAnAnswer":"Requires an answer?","formWidgetTextOptionVisibleToEveryone":"Visible to everyone","formWidgetTextOptionVisibleToAdministrators":"Visible only to administrators","formWidgetTextTooltipTitleVisibility":"Visibility","formWidgetTextTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","formWidgetTextareaDefaultName":"Untitled Paragraph of Text","formWidgetTextareaDefaultDescription":"Click here to enter some optional help text","formWidgetTextareaValueTextarea":"Response will be typed here","formWidgetTextareaOptionRequiresAnAnswer":"Requires an answer?","formWidgetTextareaOptionVisibleToEveryone":"Visible to everyone","formWidgetTextareaOptionVisibleToAdministrators":"Visible only to administrators","formWidgetTextareaTooltipTitleVisibility":"Visibility","formWidgetTextareaTooltipDescriptionVisibility":"<p>Choose <em>Visible to Everyone<\/em> to display this field as part of the form on your website.<\/p><p>Choose <em>Visible to Admins Only<\/em> to allow only administrators to enter information in this field.<\/p>","errorMessage_formEmail_required":"Please enter an email address.","errorMessage_formEmail_email":"Please enter a valid email address.","errorMessage_formShowMessage_required":"If you would like to show a message, you must enter the message to be shown.","errorMessage_formShowUri_required":"If you would like the user redirected to a URL, you must provide a url.","errorMessage_formErrorMessage_required":"Please enter an Error Message.","errorMessage_formSubmitButtonText_required":"Please enter the Submit Button Text.","errorMessage_mustHaveWidgets_numberRange":"Please add at least one field to this form first.","errorMessage_responseDoesNotExist":"That response does not exist. It may have been deleted.","errorForm":"An error has occured.","errorRequired":"This field is required.","errorRequiredOther":"Please type an answer in the text box next to the checked field.","errorInvalidFileType":"The file you uploaded needs to end in %s or %s.","filesMustEndIn":"Files must end in","or":"or","emailSubject":"New response for the '%s' form on your web site","emailBodyStart":"Someone on your web site has filled out the '%s' form. Their responses are as follows:","emailViewLink":"You can view this response by clicking here: %s","emailEditLink":"You can make changes to this response by clicking here: %s","permission_sitemodules_createForms":"Create Forms","permission_sitemodules_editForms":"Edit Forms","permission_sitemodules_deleteForms":"Delete Forms","permission_sitemodules_viewResponses":"View\/Export Responses","permission_sitemodules_exportResponses":"Export Responses","permission_sitemodules_cannotCreateForms":"You do not have permission to create forms","permission_sitemodules_cannotEditForm":"You do not have permission to edit that form","permission_sitemodules_cannotEditForms":"You do not have permission to edit forms","permission_sitemodules_cannotDeleteForm":"You do not have permission to delete that form","permission_sitemodules_cannotDeleteForms":"You do not have permission to delete forms","permission_sitemodules_cannotViewResponse":"You do not have permission to view the responses for that form","permission_sitemodules_cannotViewResponses":"You do not have permission to view responses","permission_sitemodules_cannotExportResponse":"You do not have permission to export the responses for that form","permission_sitemodules_cannotExportResponses":"You do not have permission to export responses","permission_sitemodules_cannotEditResponse":"You do not have permission to edit the responses for that form","permission_sitemodules_cannotEditResponses":"You do not have permission to edit responses","permission_sitemodules_cannotDeleteResponse":"You do not have permission to delete the responses for that form","permission_sitemodules_cannotDeleteResponses":"You do not have permission to delete responses"});
	
	var lang = jFrame.registry.get('lang');
	
	$('table.table-selector').tableSelector();
	
	$('button.cancel').bind('click', function() {
		if (confirm(lang.viewResponsesConfirmCancel)) {
			window.location = 'index.php';
		}
	});
	


	$('button.next').bind('click', function() {
		// if there are no responses for this form, notify the user
		if ($('#form-responses').find(':radio:checked').hasClass('no-responses')) {
			alert(lang.exportNoResponses);
			return false;
		}
	});
	
	$('#form-responses').bind('submit', function() {	
		if ($(':radio:checked').length == 0) {
			alert(lang.viewResponseSelectForm);
			return false;
		}
	});

	jQuery.fn.infoMessage = function(msg) {
		$(this).html('<table cellspacing="0" cellpadding="0" width="100%" id="MessageTable" ><tr><td><table border="0" cellspacing="0" cellpadding="0"><tr><td class="Message" width="20" valign="top"><img  id="MessageImage" src="images/info.gif"  hspace="10" vspace="5"></td><td class="Message" width="100%" style="padding-top: 8px;padding-bottom: 5px;" id="MessageText">'+msg+'</td></tr>    </table></td></tr></table>');
		if($(this).css('display') == 'none'){
			$(this).show('slow');
		}
		$('#'+$(this).attr('id') + ' .Message').animate({ backgroundColor: '#A6D3E1' }).animate({ backgroundColor: '#F4F4F4' });
	}
	
})(jQuery);